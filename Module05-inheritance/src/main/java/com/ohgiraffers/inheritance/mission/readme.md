# 회원 도메인 설계

1. 도메인 설계: 회원 도메인 (상속 구조)
   - 부모 클래스: User
     - 공통 속성: userId, username, email, passwordHash, createdAt
     - 공통 메서드: login(), updateProfile()

## 자식 클래스: Student, Instructor, Admin
### Student:
- 특화 속성: studentId (학번)
- 특화 메서드: 없음 (단순 정보 관리)

### Instructor:
- 특화 속성: majorSubject (전공 과목)
- 특화 메서드: 없음 (단순 정보 관리)

### Admin:
- 특화 속성: position (직책), department (부서)
- 특화 메서드: 없음 (단순 정보 관리)

### 상속 매핑 전략: 선택
각 역할별로 독립적인 테이블(students, instructors, admins)을 생성.
MySQL 환경을 가정하므로 GenerationType.TABLE을 사용하여 ID를 관리.

-----------

## 상속 전략 선택 시 고려 사항 🧐
회원 도메인 설계에서 상속 전략(SINGLE_TABLE, JOINED, TABLE_PER_CLASS)을 선택할 때 신중하게 고려해야 할 핵심 내용은 다음과 같다. <br>
각 전략은 특정 상황에서 유리하며, 프로젝트의 요구 사항과 데이터 특성을 종합적으로 판단하여 최적의 전략을 선택해야 한다.

1. 데이터 특성 및 규모:
- 공통 속성과 특화 속성의 비율: 공통 속성이 많고 각 자식 클래스의 특화 속성이 적다면 SINGLE_TABLE 전략이 효율적일 수 있다. <br>
  반대로 특화 속성이 많다면 JOINED 전략이 데이터 중복을 줄이는 데 유리하다.
- 자식 클래스 수와 깊이: 자식 클래스의 수가 많거나 상속 깊이가 깊다면 JOINED 전략은 잦은 조인으로 인해 성능 저하를 유발할 수 있다.<br>
  TABLE_PER_CLASS 전략은 UNION ALL 연산 비용이 증가할 수 있다.
- 데이터 양: 전체 회원 데이터의 양이 많아질수록 각 전략이 테이블 크기 및 조회 성능에 미치는 영향이 커진다.

2. 조회 및 검색 패턴:
- 특정 타입 회원 조회 빈도: 특정 회원 타입(학생, 강사, 관리자)의 정보를 주로 조회한다면 TABLE_PER_CLASS 전략이 조인 없이 빠르게 데이터를 가져올 수 있어 유리할 수 있다.
- 부모 타입으로 전체 회원 조회 빈도: 모든 회원 정보를 한 번에 조회하는 경우가 많다면 SINGLE_TABLE 전략이 하나의 테이블에서 검색하므로 편리하다.<br>
  JOINED나 TABLE_PER_CLASS는 여러 테이블을 결합하는 비용이 발생한다.
- 특정 속성 기반 검색 빈도: 특정 속성(예: 이메일, 가입일)으로 회원을 검색하는 경우, 모든 속성이 하나의 테이블에 있는 SINGLE_TABLE 전략이 유리할 수 있다.<br>
  JOINED 전략에서는 검색 대상 속성이 어느 테이블에 있는지 고려해야 한다.

3. 데이터 무결성 및 정규화:
- 데이터 중복 허용 여부: 공통 속성의 중복 저장을 허용할 수 있다면 SINGLE_TABLE이나 TABLE_PER_CLASS 전략을 고려할 수 있다. <br>
  데이터 중복을 최소화하고 데이터 정규성을 높여야 한다면 JOINED 전략이 적하다.
- 참조 무결성: JOINED 전략은 외래 키를 통해 부모-자식 테이블 간의 참조 무결성을 유지하기 용이하다.


4. 성능:
- 조회 성능: 특정 자식 타입 조회 시 TABLE_PER_CLASS가, 부모 타입 전체 조회 시 SINGLE_TABLE이 유리할 수 있다. JOINED는 조인 비용이 발생한다.
- 쓰기 성능: SINGLE_TABLE은 하나의 테이블에 모든 데이터를 쓰므로 상대적으로 간단하다. <br>
  JOINED는 여러 테이블에 데이터를 삽입해야 할 수 있다. TABLE_PER_CLASS는 각 테이블에 독립적으로 쓰기가 발생한다.

5. 유지보수 및 개발 편의성:
- 스키마 관리: 테이블 수가 적은 SINGLE_TABLE 전략이 스키마 관리가 용이할 수 있다. <br>
  JOINED나 TABLE_PER_CLASS는 테이블 수가 많아질 수 있다.
- 코드 복잡성: JOINED 전략은 조인 쿼리 작성 등 코드 복잡성을 증가시킬 수 있다.
- 확장성: 향후 새로운 회원 타입이 추가될 가능성을 고려하여 전략을 선택해야 한다.
